Time resolution is 1 ps

=== Applying reset ===
[26000] OK   :                                                                                                           After reset: no grants
[26000] OK   :                                                                               After reset: msplit1, msplit2, split_grant cleared

=== Test 1: Simple priority and non split behavior ===
[36000] OK   :                                                                                        M1 should get grant when only M1 requests
[46000] OK   :                                                                                  M1 still has grant when both request (priority)
[56000] ERROR:                                                                                           M2 gets grant when M1 stops requesting
[66000] OK   :                                                                                                       No grants when no requests

=== Test 2: Split on M1, M2 uses non split slaves, then resume M1 ===
[76000] OK   :                                                                                         M1 gets grant at start of split scenario
[86000] OK   :                                                                                  After split, arbiter should be idle (no grants)
[86000] OK   :                                                                                                  M1 should have msplit1 asserted
[96000] OK   :                                                                       During M1 split, M2 should be able to use non split slaves
[106000] OK   :                                                                     After M2 releases, arbiter back to idle (still split active)
[116000] OK   :                                                                                        When split completes, M1 gets grant again
[116000] ERROR:                                                                                  split_grant should pulse when split ends for M1
[126000] ERROR:                                                                                 split_grant should be deasserted after one cycle
[126000] OK   :                                                                                 msplit1 should be cleared after split completion
[136000] OK   :                                                                                                 After M1 completes, arbiter idle

=== Test 3: Split on M2, M1 uses non split slaves, then resume M2 ===
[146000] OK   :                                                                                      Initially M2 gets grant (M1 not requesting)
[156000] OK   :                                                                                                  After split on M2, arbiter idle
[156000] OK   :                                                                                                  M2 should have msplit2 asserted
[166000] OK   :                                                                          During M2 split, M1 should get bus for non split slaves
[176000] OK   :                                                                                            Back to idle while split still active
[186000] OK   :                                                                                        When split completes, M2 gets grant again
[186000] ERROR:                                                                                  split_grant should pulse when split ends for M2
[196000] ERROR:                                                                               split_grant should clear after one cycle (M2 case)
[196000] OK   :                                                                                       msplit2 should be cleared after completion
[206000] OK   :                                                                                           After M2 completes, arbiter idle again

=== Test 4: Sanity checks (randomized) ===
[216000] OK   :                                                                                        Never grant both masters at the same time
[226000] OK   :                                                                                        Never grant both masters at the same time
[236000] OK   :                                                                                        Never grant both masters at the same time
[246000] OK   :                                                                                        Never grant both masters at the same time
[256000] OK   :                                                                                        Never grant both masters at the same time
[266000] OK   :                                                                                        Never grant both masters at the same time
[276000] OK   :                                                                                        Never grant both masters at the same time
[286000] OK   :                                                                                        Never grant both masters at the same time
[296000] OK   :                                                                                        Never grant both masters at the same time
[306000] OK   :                                                                                        Never grant both masters at the same time
[316000] OK   :                                                                                        Never grant both masters at the same time
[326000] OK   :                                                                                        Never grant both masters at the same time
[336000] OK   :                                                                                        Never grant both masters at the same time
[346000] OK   :                                                                                        Never grant both masters at the same time
[346000] OK   :                                                                                                   When bgrant1=1, msel must be 0
[356000] OK   :                                                                                        Never grant both masters at the same time
[356000] OK   :                                                                                                   When bgrant1=1, msel must be 0
[366000] OK   :                                                                                        Never grant both masters at the same time
[376000] OK   :                                                                                        Never grant both masters at the same time
[386000] OK   :                                                                                        Never grant both masters at the same time
[386000] OK   :                                                                                                   When bgrant1=1, msel must be 0
[396000] OK   :                                                                                        Never grant both masters at the same time
[406000] OK   :                                                                                        Never grant both masters at the same time
[406000] OK   :                                                                                                   When bgrant1=1, msel must be 0
[416000] OK   :                                                                                        Never grant both masters at the same time
[416000] OK   :                                                                                                   When bgrant1=1, msel must be 0
[426000] OK   :                                                                                        Never grant both masters at the same time
[426000] OK   :                                                                                                   When bgrant1=1, msel must be 0
[436000] OK   :                                                                                        Never grant both masters at the same time
[446000] OK   :                                                                                        Never grant both masters at the same time
[456000] OK   :                                                                                        Never grant both masters at the same time
[466000] OK   :                                                                                        Never grant both masters at the same time
[476000] OK   :                                                                                        Never grant both masters at the same time
[486000] OK   :                                                                                        Never grant both masters at the same time
[496000] OK   :                                                                                        Never grant both masters at the same time
[506000] OK   :                                                                                        Never grant both masters at the same time
[516000] OK   :                                                                                        Never grant both masters at the same time
[526000] OK   :                                                                                        Never grant both masters at the same time
[536000] OK   :                                                                                        Never grant both masters at the same time
[546000] OK   :                                                                                        Never grant both masters at the same time
[556000] OK   :                                                                                        Never grant both masters at the same time
[566000] OK   :                                                                                        Never grant both masters at the same time
[576000] OK   :                                                                                        Never grant both masters at the same time
[586000] OK   :                                                                                        Never grant both masters at the same time
[596000] OK   :                                                                                        Never grant both masters at the same time
[606000] OK   :                                                                                        Never grant both masters at the same time
[616000] OK   :                                                                                        Never grant both masters at the same time
[626000] OK   :                                                                                        Never grant both masters at the same time
[636000] OK   :                                                                                        Never grant both masters at the same time
[646000] OK   :                                                                                        Never grant both masters at the same time
[656000] OK   :                                                                                        Never grant both masters at the same time
[666000] OK   :                                                                                        Never grant both masters at the same time
[676000] OK   :                                                                                        Never grant both masters at the same time
[686000] OK   :                                                                                        Never grant both masters at the same time
[686000] OK   :                                                                                                   When bgrant1=1, msel must be 0
[696000] OK   :                                                                                        Never grant both masters at the same time
[696000] OK   :                                                                                                   When bgrant1=1, msel must be 0
[706000] OK   :                                                                                        Never grant both masters at the same time

==================================================
TEST FAILED with 5 error(s).
==================================================

$finish called at time : 706 ns : File "/home/prabathbk/ads_bus/da-bus/Serial/tb/tb_arbiter.sv" Line 335
